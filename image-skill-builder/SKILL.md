---
name: image-skill-builder
description: 帮助用户通过交互式问答创建自定义批量生图 Skill。用户不需要写代码，只需回答问题即可生成完整可用的生图 Skill。当用户说"帮我创建生图Skill"、"我想做一个配图技能"、"创建批量出图的Skill"、"生成图片的Skill怎么做"、"帮我做一个AI画图技能"时触发。支持文章配图、Logo设计、分镜故事、社交媒体图、海报等任意图片场景。
---

# 批量生图 Skill 创建助手

通过结构化问答，帮助零代码基础用户创建专属的批量生图 Skill。

## 核心理念

用户只需要回答问题，助手自动完成：
1. 理解用户需求 → 2. 组装风格模板 → 3. 生成完整 Skill 文件 → 4. 验证可用性

## 工作流程

### Phase 1: 场景理解（3 个问题）

**逐个提问**，不要一次性抛出所有问题。每次提问后等待回答。

**Q1 - 配图场景**:
```
你想创建什么类型的批量生图 Skill？

1. 📝 文章/博客配图 — 为长文的每个段落自动配图
2. 🎨 Logo/品牌设计 — 批量生成 Logo 变体
3. 🎬 分镜/故事板 — 将故事拆解为连续画面
4. 📱 社交媒体图 — 小红书/公众号/X 配图
5. 🖼️ 海报/封面设计 — 活动海报、课程封面、Banner
6. 📊 数据可视化图 — 信息图、流程图、架构图
7. 🎭 人物/角色设计 — IP 形象、头像、人设图
8. ✏️ 其他（请描述）

选一个数字，或直接描述你的场景。
```

**Q2 - 使用场景**:
```
这些图片主要用在哪里？

1. 📖 文章/文档中插图（需要自动插入 Markdown）
2. 📲 社交平台发布（需要特定尺寸）
3. 💼 品牌/商业用途（需要高分辨率+多变体）
4. 🎓 教学/演示（需要清晰易懂）
5. 🎮 娱乐/创作（追求视觉效果）

这会影响图片的分辨率、尺寸和输出格式。
```

**Q3 - 批量数量**:
```
每次使用这个 Skill 时，大约生成多少张图？

1. 1-3 张（精品路线，每张仔细打磨）
2. 5-10 张（标准批量，平衡质量和数量）
3. 10+ 张（大批量，快速产出）

这会影响 Skill 的工作流设计（是否需要分批确认）。
```

### Phase 2: 风格定义（3-4 个问题）

**Q4 - 视觉风格**:

根据 Q1 的回答，从 references/style-library.md 中筛选出 5-8 个最相关的风格选项展示。

展示格式（每个风格一行描述）：
```
根据你的场景，推荐以下风格：

1. [风格名] — [一句话特征] | 适合: [场景]
2. [风格名] — [一句话特征] | 适合: [场景]
...

你喜欢哪个？也可以描述你想要的风格，我来匹配。
```

**如果用户选了某个风格** → 记录并继续
**如果用户描述了自定义风格** → 提炼关键词，构建自定义风格前缀

**Q5 - 参考图片（可选）**:
```
有参考图片吗？上传一张你喜欢的风格图，我来拆解：

- 图形元素（形状/构图/布局）
- 色彩方案（主色/辅色/氛围）
- 视觉风格（写实/扁平/手绘/3D...）
- 情感调性（专业/温暖/酷炫/可爱...）
- 文字处理（有无文字/字体风格）

没有也可以，直接说"跳过"。
```

**如果用户上传了图片** → 分析图片并生成风格描述，与 Q4 的选择融合
**如果用户跳过** → 继续

**Q6 - 色彩偏好**:
```
色彩偏好？

1. ⬛ 黑白/灰度 — 极简、专业
2. 🔵 单色调 — 一个主色+黑白（如蓝色系、绿色系）
3. 🌈 多彩 — 丰富配色，视觉活泼
4. 🎯 品牌色 — 指定具体颜色（给我色号或描述）
5. 🤷 随意 — 根据风格自动搭配

选一个，或直接告诉我你想要的颜色。
```

**Q7 - 图片比例**:
```
图片比例？

1. 📺 16:9 横版 — 文章配图、演示文稿、Banner
2. ⬜ 1:1 正方形 — Logo、社交头像、Instagram
3. 📱 9:16 竖版 — 小红书、手机壁纸、Story
4. 📄 3:4 竖版 — 海报、封面
5. 🖥️ 21:9 超宽 — Banner、网站头图
6. 其他（告诉我具体比例）

最常用的是 16:9 和 1:1。
```

### Phase 3: 内容规则（2-3 个问题）

**Q8 - 文字规则**:
```
图片中需要包含文字吗？

1. ❌ 无文字 — 纯视觉图
2. 📌 少量关键词 — 1-3 个核心词汇
3. 📝 标题+关键词 — 有明显的文字信息
4. 🌐 中英文混合 — 中文为主，专业术语英文

如果需要文字，默认使用中文。
```

**Q9 - 内容来源**:
```
图片的内容从哪里来？

1. ✍️ 每次手动描述 — 我告诉 AI 画什么
2. 📄 从文章/文档自动提取 — AI 分析文章生成配图
3. 📋 从模板/列表批量生成 — 我提供一个清单批量出图
4. 🖼️ 从参考图延伸 — 上传图片+描述来改编

这决定了 Skill 的输入方式。
```

**Q10 - 一致性要求**:
```
多张图片之间需要保持风格一致吗？

1. 🔒 必须一致 — 同一套视觉语言（如系列配图、故事板）
2. 🔓 允许变化 — 可以有风格差异（如 Logo 变体探索）
3. 🎯 部分一致 — 整体风格一致但细节可变

一致性越强，提示词中的风格锚定越严格。
```

### Phase 4: 技术配置（快速确认）

**Q11 - 技术参数确认**（一次性展示，用户修改或确认即可）:
```
最后确认技术参数：

| 配置项 | 当前值 | 说明 |
|-------|--------|------|
| 分辨率 | 2K | 可选 1K/2K/4K |
| API | Gemini (gemini-3-pro-image-preview) | 默认 |
| 保存位置 | obsidian/09image/MMDD-主题名/ | 自动按日期分类 |
| 插入文档 | [是/否，根据Q2判断] | 自动插入 Markdown |
| Skill 名称 | [根据Q1自动生成] | 你也可以起个名字 |

有需要修改的吗？没有就直接回复"确认"。
```

### Phase 5: 自动生成 Skill

收集完所有答案后，**自动执行**以下步骤：

#### 5.1 组装 Skill 结构

根据用户回答，决定 Skill 的结构：

| 用户选择 | 生成的 Skill 结构 |
|---------|-----------------|
| 文章配图 | 类似 article-batch-illustration: 分析文章 → 拆段落 → 生成提示词 → 确认 → 批量出图 → 插入文档 |
| Logo 设计 | 类似 logo-batch-generator: 收集品牌信息 → 选风格 → 10个变体 → 出图 → 迭代 |
| 分镜故事 | 类似 storyboard-generator: 润色故事 → 拆分镜 → 选风格 → 批量出图 |
| 社交媒体图 | 新模式: 输入主题/文案 → 选模板 → 批量出图 → 导出特定尺寸 |
| 海报/封面 | 新模式: 输入主题 → 选风格 → 生成多个变体 → 迭代 |
| 数据可视化 | 类似 article-batch-illustration 但专注图表: 输入数据/概念 → 选图表类型 → 出图 |
| 人物/角色 | 新模式: 描述人设 → 选风格 → 多角度/表情变体 → 出图 |

#### 5.2 生成文件

为用户创建完整的 Skill 目录：

```
skills/[skill-name]/
├── SKILL.md              ← 根据回答自动填充
├── agents/
│   └── openai.yaml       ← 自动生成 UI 元数据
├── scripts/
│   └── generate_image.py ← 复制自 references/generate_image.py
└── references/
    └── style-guide.md    ← 根据风格选择自动组装
```

#### 5.3 生成 SKILL.md

SKILL.md 模板结构（读取 references/skill-template.md 获取完整模板）：

```markdown
---
name: [skill-name]
description: [根据场景+风格自动生成描述，包含触发词]
---

# [Skill 显示名]

[一句话描述功能]

## 工作流程
[根据场景类型填充对应的工作流]

## 风格配置
[用户选定的风格前缀和参数]

## API 配置
[固定 API 信息]

## 保存路径规范
[路径模板]

## 常见用法
[触发词和使用示例]
```

#### 5.4 生成 style-guide.md

根据用户选择的风格 + 色彩 + 比例 + 文字规则，从 references/style-library.md 中提取对应风格的完整提示词模板，组装成该 Skill 专属的 style-guide.md。

#### 5.5 复制脚本

将 `scripts/generate_image.py` 复制到新 Skill 的 scripts/ 目录。

#### 5.6 验证

运行 quick_validate.py 确认 Skill 结构正确。

### Phase 6: 展示与试用

生成完成后，展示给用户：

```
你的 Skill 已创建完成！

📁 位置: skills/[skill-name]/
📄 文件:
  - SKILL.md (主文件)
  - scripts/generate_image.py (图片生成脚本)
  - references/style-guide.md (风格指南)
  - agents/openai.yaml (UI 配置)

🔧 核心配置:
  - 场景: [xxx]
  - 风格: [xxx]
  - 比例: [xxx]
  - 分辨率: [xxx]

想现在试用一下这个 Skill 吗？给我发一段内容，我用刚创建的 Skill 帮你生成图片。
```

## 关键设计原则

1. **每次只问一个问题** — 不要同时抛多个问题，降低用户认知负担
2. **提供明确选项+自定义入口** — 数字选择快速，同时允许自由描述
3. **智能默认值** — 根据前面的回答推断后续默认值（如选了文章配图 → 默认16:9、自动插入文档）
4. **即时反馈** — 每个回答后简短确认理解，让用户有掌控感
5. **允许跳过和回退** — 用户可以说"跳过"或"回去改第X个"

## 参考文件

| 文件 | 用途 | 何时读取 |
|------|------|---------|
| references/style-library.md | 所有可用风格的完整提示词模板库 | Phase 2 展示风格选项时 |
| references/skill-template.md | Skill 文件生成模板 | Phase 5 组装 Skill 时 |
| scripts/generate_image.py | 图片生成脚本（复制到新 Skill） | Phase 5 复制脚本时 |

## 常见用法

| 用户说 | 操作 |
|-------|-----|
| "帮我创建一个生图 Skill" | 从 Q1 开始完整问答流程 |
| "我想做一个小红书配图的 Skill" | 跳过 Q1（已知场景=社交媒体），从 Q2 开始 |
| "创建一个和文章配图类似的 Skill，但用赛博朋克风" | 跳过 Q1+Q4（已知场景+风格），快速确认其他参数 |
| "帮我改一下刚创建的 Skill 的风格" | 读取已有 Skill，只重新走 Phase 2 |
